(window.webpackJsonp=window.webpackJsonp||[]).push([[81],{300:function(s,t,a){"use strict";a.r(t);var e=a(1),r=Object(e.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h2",{attrs:{id:"mysql-导入数据"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mysql-导入数据"}},[s._v("#")]),s._v(" Mysql 导入数据")]),s._v(" "),a("p",[a("a",{attrs:{href:"README.md"}},[s._v("目录")])]),s._v(" "),a("h3",{attrs:{id:"使用-load-data-导入数据"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用-load-data-导入数据"}},[s._v("#")]),s._v(" 使用 LOAD DATA 导入数据")]),s._v(" "),a("p",[s._v("MySQL 中提供了"),a("code",[s._v("LOAD DATA INFILE")]),s._v("语句来插入数据。 以下实例中将从当前目录中读取文件 "),a("code",[s._v("dump.txt")]),s._v(" ，将该文件中的数据插入到当前数据库的 "),a("code",[s._v("mytbl")]),s._v(" 表中。")]),s._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[s._v("mysql"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("LOAD")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DATA")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("LOCAL")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INFILE")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'dump.txt'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INTO")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TABLE")]),s._v(" mytbl"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("如果指定"),a("code",[s._v("LOCAL")]),s._v("关键词，则表明从客户主机上按路径读取文件。如果没有指定，则文件在服务器上按路径读取文件。")]),s._v(" "),a("p",[s._v("你能明确地在"),a("code",[s._v("LOAD DATA")]),s._v("语句中指出列值的分隔符和行尾标记，但是默认标记是定位符和换行符。")]),s._v(" "),a("p",[s._v("两个命令的 "),a("code",[s._v("FIELDS")]),s._v(" 和 "),a("code",[s._v("LINES")]),s._v(" 子句的语法是一样的。两个子句都是可选的，但是如果两个同时被指定，"),a("code",[s._v("FIELDS")]),s._v(" 子句必须出现在 "),a("code",[s._v("LINES")]),s._v(" 子句之前。")]),s._v(" "),a("p",[s._v("如果用户指定一个 "),a("code",[s._v("FIELDS")]),s._v(" 子句，它的子句 "),a("code",[s._v("（TERMINATED BY、[OPTIONALLY] ENCLOSED BY 和 ESCAPED BY)")]),s._v("也是可选的，不过，用户必须至少指定它们中的一个。")]),s._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[s._v("mysql"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("LOAD")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DATA")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("LOCAL")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INFILE")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'dump.txt'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INTO")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TABLE")]),s._v(" mytbl\n  "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FIELDS")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TERMINATED")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("':'")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("LINES")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TERMINATED")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'\\r\\n'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[a("code",[s._v("LOAD DATA")]),s._v(" 默认情况下是按照数据文件中列的顺序插入数据的，如果数据文件中的列与插入表中的列不一致，则需要指定列的顺序。\n如，在数据文件中的列顺序是 "),a("code",[s._v("a,b,c，")]),s._v(" 但在插入表的列顺序为"),a("code",[s._v("b,c,a，")]),s._v("则数据导入语法如下：")]),s._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[s._v("mysql"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("LOAD")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DATA")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("LOCAL")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INFILE")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'dump.txt'")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INTO")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TABLE")]),s._v(" mytbl "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("b"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" c"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" a"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h3",{attrs:{id:"使用-mysqlimport-导入数据"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用-mysqlimport-导入数据"}},[s._v("#")]),s._v(" 使用 mysqlimport 导入数据")]),s._v(" "),a("p",[a("code",[s._v("mysqlimport")]),s._v("客户端提供了"),a("code",[s._v("LOAD DATA INFILEQL")]),s._v("语句的一个命令行接口。"),a("code",[s._v("mysqlimport")]),s._v("的大多数选项直接对应"),a("code",[s._v("LOAD DATA INFILE")]),s._v("子句。")]),s._v(" "),a("p",[s._v("从文件 "),a("code",[s._v("dump.txt")]),s._v(" 中将数据导入到 "),a("code",[s._v("mytbl")]),s._v(" 数据表中, 可以使用以下命令：")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ mysqlimport -u root -p --local database_name dump.txt\npassword *****\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[a("code",[s._v("mysqlimport")]),s._v("命令可以指定选项来设置指定格式,命令语句格式如下：")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ mysqlimport -u root -p --local --fields-terminated-by"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('":"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n   --lines-terminated-by"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),a("span",{pre:!0,attrs:{class:"token entity",title:"\\r"}},[s._v("\\r")]),a("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[s._v("\\n")]),s._v('"')]),s._v("  database_name dump.txt\npassword *****\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[a("code",[s._v("mysqlimport")]),s._v(" 语句中使用 "),a("code",[s._v("--columns")]),s._v(" 选项来设置列的顺序：")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ mysqlimport -u root -p --local --columns"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("b,c,a "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n    database_name dump.txt\npassword *****\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h3",{attrs:{id:"mysqlimport的常用选项介绍"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mysqlimport的常用选项介绍"}},[s._v("#")]),s._v(" mysqlimport的常用选项介绍")]),s._v(" "),a("table",[a("thead",[a("tr",[a("th",[s._v("选项")]),s._v(" "),a("th",[s._v("功能")])])]),s._v(" "),a("tbody",[a("tr",[a("td",[s._v("-d or --delete")]),s._v(" "),a("td",[s._v("新数据导入数据表中之前删除数据数据表中的所有信息")])]),s._v(" "),a("tr",[a("td",[s._v("-f or --force")]),s._v(" "),a("td",[s._v("不管是否遇到错误，"),a("code",[s._v("mysqlimport")]),s._v("将强制继续插入数据")])]),s._v(" "),a("tr",[a("td",[s._v("-i or --ignore")]),s._v(" "),a("td",[a("code",[s._v("mysqlimport")]),s._v("跳过或者忽略那些有相同唯一 关键字的行， 导入文件中的数据将被忽略。")])]),s._v(" "),a("tr",[a("td",[s._v("-l or -lock-tables")]),s._v(" "),a("td",[s._v("数据被插入之前锁住表，这样就防止了， 你在更新数据库时，用户的查询和更新受到影响。")])]),s._v(" "),a("tr",[a("td",[s._v("-r or -replace")]),s._v(" "),a("td",[s._v("这个选项与－i选项的作用相反；此选项将替代 表中有相同唯一关键字的记录。")])]),s._v(" "),a("tr",[a("td",[s._v("--fields-enclosed- by= char")]),s._v(" "),a("td",[s._v("指定文本文件中数据的记录时以什么括起的， 很多情况下 数据以双引号括起。 默认的情况下数据是没有被字符括起的。")])]),s._v(" "),a("tr",[a("td",[s._v("--fields-terminated- by=char")]),s._v(" "),a("td",[s._v("指定各个数据的值之间的分隔符，在句号分隔的文件中， 分隔符是句号。您可以用此选项指定数据之间的分隔符。 默认的分隔符是跳格符"),a("code",[s._v("（Tab）")])])]),s._v(" "),a("tr",[a("td",[s._v("--lines-terminated- by=str")]),s._v(" "),a("td",[s._v("此选项指定文本文件中行与行之间数据的分隔字符串 或者字符。 默认的情况下"),a("code",[s._v("mysqlimport")]),s._v("以"),a("code",[s._v("newline")]),s._v("为行分隔符。 您可以选择用一个字符串来替代一个单个的字符： 一个新行或者一个回车。")])])])]),s._v(" "),a("p",[a("code",[s._v("mysqlimport")]),s._v("命令常用的选项还有"),a("code",[s._v("-v")]),s._v(" 显示版本"),a("code",[s._v("（version）")]),s._v("， "),a("code",[s._v("-p")]),s._v(" 提示输入密码"),a("code",[s._v("（password）")]),s._v("等。")])])}),[],!1,null,null,null);t.default=r.exports}}]);