<!DOCTYPE html>
<html lang="zh-CN">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta http-equiv="Cache-Control" content="no-siteapp">
  <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no">
  <meta name="renderer" content="webkit">

  
  <title>Roy Lau</title>

  <link rel="shortcut icon" href="/blog/images/favicon.jpg">
  <link rel="alternate" href="/blog/atom.xml" title="Roy Lau">
  <meta name="description" content="—————–下面是使用git的一些心得笔记 ———-能成功上传全依赖于http://www.cnblogs.com/schaepher/p/5561193.html#six git常用命令 使用git diff查看各个区之间的差异 git diff 和 git diff –-cached容易混淆  123git diff                        # 比较的是工作区和暂存区的差">
<meta property="og:type" content="article">
<meta property="og:title" content="Roy Lau">
<meta property="og:url" content="https://roy-lau.github.io/blog/2019/06/12/git-bash-make/README/index.html">
<meta property="og:site_name" content="Roy Lau">
<meta property="og:description" content="—————–下面是使用git的一些心得笔记 ———-能成功上传全依赖于http://www.cnblogs.com/schaepher/p/5561193.html#six git常用命令 使用git diff查看各个区之间的差异 git diff 和 git diff –-cached容易混淆  123git diff                        # 比较的是工作区和暂存区的差">
<meta property="og:locale" content="zh-CN">
<meta property="og:image" content="https://roy-lau.github.io/blog/.io//git-Common-commands.jpg">
<meta property="og:updated_time" content="2019-06-12T07:21:24.913Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Roy Lau">
<meta name="twitter:description" content="—————–下面是使用git的一些心得笔记 ———-能成功上传全依赖于http://www.cnblogs.com/schaepher/p/5561193.html#six git常用命令 使用git diff查看各个区之间的差异 git diff 和 git diff –-cached容易混淆  123git diff                        # 比较的是工作区和暂存区的差">
<meta name="twitter:image" content="https://roy-lau.github.io/blog/.io//git-Common-commands.jpg">

  <meta name="format-detection" content="telephone=no,email=no">
  <meta name="theme-color" content="#9C27B0">
  <meta name="description" content>
  <meta name="keywords" content>

  <meta name="mobile-web-app-capable" content="yes">
  <meta name="application-name" content="Roy Lau">
  <meta name="msapplication-starturl" content="https://roy-lau.github.io/blog/blog/2019/06/12/git-bash-make/README/">
  <meta name="msapplication-navbutton-color" content="#9C27B0">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-title" content="Roy Lau">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <link rel="apple-touch-icon" href="/blog/images/favicon.jpg">

  
    <meta property="article:published_time" content="Wed Jun 12 2019 07:21:24 GMT+0000">
    <meta property="article:modified_time" content="Wed Jun 12 2019 15:21:24 GMT+0800">
  

  
    <link rel="canonical" href="https://roy-lau.github.io/blog/blog/2019/06/12/git-bash-make/README/">
  

  <meta name="google-site-verification" content="fXjtlIfaDc_X-0P11rO3bEp1Nk4IKXphoJv0GqGZCco">
  <meta name="baidu-site-verification" content="I3t1wfwZvd">

  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  ga('create','UA-139531378-1','auto');ga('send','pageview');
</script>
  <script>
  var _hmt = _hmt || [];
  (function() {var hm = document.createElement('script');
  hm.src = 'https://hm.baidu.com/hm.js?1054d51c0b66f1d168829173682c8159';
  var s = document.getElementsByTagName('script')[0];
  s.parentNode.insertBefore(hm, s);
  })();
</script>
  

  <link rel="stylesheet" href="/blog/css/mdui.css">
<link rel="stylesheet" href="/blog/css/style.css">
</head>
<body class="mdui-appbar-with-toolbar mdui-drawer-body-left mdui-theme-primary-brown mdui-theme-accent-blue">
  <script>var a=localStorage.getItem("mdui-theme-layout-dark");if(a){document.getElementsByTagName("body")[0].className+=" mdui-theme-layout-dark"};</script>
  <header id="header" class="mdui-appbar mdui-appbar-fixed mdui-appbar-scroll-hide mdui-appbar-inset">
  <div class="mdui-toolbar mdui-color-theme">
    <a href="javascript:;" class="mdui-btn mdui-btn-icon" mdui-drawer="{target: '#sidebar', swipe: true}"><i class="mdui-icon material-icons">menu</i></a>
    <a href="/blog/" class="mdui-typo-headline">Roy Lau</a>
    <div class="mdui-toolbar-spacer"></div>
    <a href="javascript:;" class="mdui-btn mdui-btn-icon" mdui-dialog="{target: '#search'}" mdui-tooltip="{content: '搜索'}"><i class="mdui-icon material-icons">search</i></a>
    <a href="/blog/atom.xml" class="mdui-btn mdui-btn-icon" mdui-tooltip="{content: 'RSS'}"><i class="mdui-icon material-icons">rss_feed</i></a>
  </div>
</header>
<div class="mdui-dialog" id="search">
  
    <div class="search-form">
      <input type="search" class="search-form-input" placeholder="请输入关键字">
    </div>
    <div class="search-result" data-resource="/blog/search.xml"></div>
  
</div>
  <aside id="sidebar" class="mdui-drawer mdui-drawer-full-height">
  <div class="mdui-grid-tile">
    <img src="/blog/imgs/banner.png" style="height: 160px;">
    <img src="/blog/imgs/avatar.png" class="avatar-animation" style="position: absolute; top: 10%; left: 50px; width: 64px; height: 64px; border: 2px solid #fff; border-radius: 50%;">
    <div class="mdui-grid-tile-actions">
      <div class="mdui-grid-tile-text">
        <div class="mdui-grid-tile-title">Roy Lau</div>
        <div class="mdui-grid-tile-subtitle"><i class="mdui-icon material-icons">art_track</i>是否能写好博客，在于坚持认真。</div>
      </div>
      
        <div class="mdui-grid-tile-buttons">
          <a href="mailto:897379293@qq.com" class="mdui-btn mdui-btn-icon" mdui-tooltip="{content: '897379293@qq.com'}"><i class="mdui-icon material-icons">email</i></a>
        </div>
      
    </div>
  </div>

  <div class="mdui-list" mdui-collapse="{accordion: true}">
    <a href="/blog/" class="mdui-list-item mdui-ripple">
      <i class="mdui-list-item-icon mdui-icon material-icons mdui-text-color-blue">home</i>
      <div class="mdui-list-item-content">主页</div>
    </a>
    <div class="mdui-collapse-item">
      <div class="mdui-collapse-item-header mdui-list-item mdui-ripple">
        <i class="mdui-list-item-icon mdui-icon material-icons mdui-text-color-green">chrome_reader_mode</i>
        <div class="mdui-list-item-content">分类</div>
        <i class="mdui-collapse-item-arrow mdui-icon material-icons">keyboard_arrow_down</i>
      </div>
      <div class="mdui-collapse-item-body mdui-list mdui-list-dense">
        
        <a class="mdui-ripple sidebar_archives-link" href="/blog/categories/DB/">DB<span class="mdui-ripple sidebar_archives-count">18</span></a><a class="mdui-ripple sidebar_archives-link" href="/blog/categories/DB/MongoDB/">MongoDB<span class="mdui-ripple sidebar_archives-count">18</span></a><a class="mdui-ripple sidebar_archives-link" href="/blog/categories/hexo/">hexo<span class="mdui-ripple sidebar_archives-count">2</span></a><a class="mdui-ripple sidebar_archives-link" href="/blog/categories/windows/">windows<span class="mdui-ripple sidebar_archives-count">1</span></a>
        
      </div>
    </div>
    <div class="mdui-collapse-item">
      <div class="mdui-collapse-item-header mdui-list-item mdui-ripple">
        <i class="mdui-list-item-icon mdui-icon material-icons mdui-text-color-deep-orange">inbox</i>
        <div class="mdui-list-item-content">归档</div>
        <i class="mdui-collapse-item-arrow mdui-icon material-icons">keyboard_arrow_down</i>
      </div>
      <div class="mdui-collapse-item-body mdui-list mdui-list-dense">
        
        <a class="mdui-ripple sidebar_archives-link" href="/blog/archives/2019/06/">六月 2019<span class="mdui-ripple sidebar_archives-count">91</span></a><a class="mdui-ripple sidebar_archives-link" href="/blog/archives/2018/03/">三月 2018<span class="mdui-ripple sidebar_archives-count">18</span></a><a class="mdui-ripple sidebar_archives-link" href="/blog/archives/2017/06/">六月 2017<span class="mdui-ripple sidebar_archives-count">1</span></a>
        
      </div>
    </div>
    <div class="mdui-collapse-item">
      <div class="mdui-collapse-item-header mdui-list-item mdui-ripple">
        <i class="mdui-list-item-icon mdui-icon material-icons mdui-text-color-brown">bookmark</i>
        <div class="mdui-list-item-content">标签</div>
        <i class="mdui-collapse-item-arrow mdui-icon material-icons">keyboard_arrow_down</i>
      </div>
      <div class="mdui-collapse-item-body mdui-list mdui-list-dense">
        
        <a class="mdui-ripple sidebar_archives-link" href="/blog/tags/DB/">DB<span class="mdui-ripple sidebar_archives-count">18</span></a><a class="mdui-ripple sidebar_archives-link" href="/blog/tags/MongoDB/">MongoDB<span class="mdui-ripple sidebar_archives-count">18</span></a><a class="mdui-ripple sidebar_archives-link" href="/blog/tags/hexo/">hexo<span class="mdui-ripple sidebar_archives-count">2</span></a><a class="mdui-ripple sidebar_archives-link" href="/blog/tags/windows/">windows<span class="mdui-ripple sidebar_archives-count">1</span></a>
        
      </div>
    </div>
    <a href="/blog/about" class="mdui-list-item mdui-ripple">
      <i class="mdui-list-item-icon mdui-icon material-icons mdui-text-color-purple">person</i>
      <div class="mdui-list-item-content">关于</div>
    </a>
  </div>

</aside>
  <main id="main" class="mdui-m-t-5 fadeIn animated">
  <link rel="stylesheet" href="https://cdn.bootcss.com/fancybox/3.5.7/jquery.fancybox.min.css">
  <style>#main article .mdui-card-content .center-block{display:block!important;margin-right:auto!important;margin-left:auto!important}</style>
  <article class="mdui-card mdui-m-b-5">
    <header class="mdui-card-media">
      <img src="/blog/imgs//random/material-3.png" style="max-height: 240px;">
      <div class="mdui-card-media-covered">
        <div class="mdui-card-primary">
          <div class="mdui-card-primary-title"></div>
          <div class="mdui-card-primary-subtitle"><i class="iconfont">&#xe697;</i> 2019-06-12 / <i class="iconfont">&#xe601;</i> Roy Lau &nbsp;&nbsp; <span id="busuanzi_container_page_pv" style="display: none;"><i class="iconfont">&#xe7fd;</i> <span id="busuanzi_value_page_pv"></span></span></div>
        </div>
      </div>
      <div class="mdui-card-menu">
        
          <button class="mdui-btn mdui-btn-icon mdui-text-color-white" mdui-menu="{target: '#share_menu', align: 'right'}"><i class="mdui-icon material-icons">share</i></button>
          <ul class="mdui-menu" id="share_menu">
            <li class="mdui-menu-item">
              <a href="http://service.weibo.com/share/share.php?appkey=&title=&url=https://roy-lau.github.io/blog/2019/06/12/git-bash-make/README/&pic=https://roy-lau.github.io/blog/blog/images/favicon.jpg&searchPic=false&style=simple" target="_blank" class="mdui-ripple">分享到微博</a>
            </li>
            <li class="mdui-menu-item">
              <a href="http://connect.qq.com/widget/shareqq/index.html?site=Roy Lau&title=&summary=&pics=https://roy-lau.github.io/blog/blog/images/favicon.jpg&url=https://roy-lau.github.io/blog/2019/06/12/git-bash-make/README/" target="_blank" class="mdui-ripple">分享到QQ</a>
            </li>
            <li class="mdui-menu-item">
              <a href="https://twitter.com/intent/tweet?text=&url=https://roy-lau.github.io/blog/2019/06/12/git-bash-make/README/&via=Roy Lau" target="_blank" class="mdui-ripple">分享到Twitter</a>
            </li>
            <li class="mdui-menu-item">
              <a href="https://www.facebook.com/sharer/sharer.php?u=https://roy-lau.github.io/blog/2019/06/12/git-bash-make/README/" target="_blank" class="mdui-ripple">分享到Facebook</a>
            </li>
            <li class="mdui-menu-item">
              <a href="https://plus.google.com/share?url=https://roy-lau.github.io/blog/2019/06/12/git-bash-make/README/" target="_blank" class="mdui-ripple">分享到Google+</a>
            </li>
            <li class="mdui-menu-item">
              <a href="https://www.linkedin.com/shareArticle?mini=true&url=https://roy-lau.github.io/blog/2019/06/12/git-bash-make/README/&title=" target="_blank" class="mdui-ripple">分享到LinkedIn</a>
            </li>
            <li class="mdui-menu-item">
              <a href="https://telegram.me/share/url?url=https://roy-lau.github.io/blog/2019/06/12/git-bash-make/README/&text=" target="_blank" class="mdui-ripple">分享到Telegram</a>
            </li>
          </ul>
        
      </div>
    </header>
    <div class="mdui-card-content mdui-typo">
      <h1 id="—————–下面是使用git的一些心得笔记-———"><a href="#—————–下面是使用git的一些心得笔记-———" class="headerlink" title="—————–下面是使用git的一些心得笔记 ———-"></a>—————–下面是使用git的一些心得笔记 ———-</h1><p><del>能成功上传全依赖于<a href="http://www.cnblogs.com/schaepher/p/5561193.html#six" target="_blank" rel="noopener">http://www.cnblogs.com/schaepher/p/5561193.html#six</a></del></p>
<h3 id="git常用命令"><a href="#git常用命令" class="headerlink" title="git常用命令"></a>git常用命令</h3><p><img src="/blog/.io//git-Common-commands.jpg" alt></p>
<h3 id="使用git-diff查看各个区之间的差异"><a href="#使用git-diff查看各个区之间的差异" class="headerlink" title="使用git diff查看各个区之间的差异"></a>使用git diff查看各个区之间的差异</h3><blockquote>
<p>git diff 和 git diff –-cached容易混淆</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git diff                        # 比较的是工作区和暂存区的差别</span><br><span class="line">git diff –-cached               # 比较的是暂存区和版本库的差别</span><br><span class="line">git diff HEAD                   # 可以查看工作区和版本库的差别</span><br></pre></td></tr></table></figure>
<blockquote>
<p>每次commit后,git diff –-cached没有内容，是因为暂存区的内容已经更新到版本库中，因此暂存区和版本库中的内容无差别</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">git rm --cached "文件路径"      # 不删除物理文件，仅将该文件从缓存中删除；</span><br><span class="line">git rm --cached "文件名"        # 可以从缓存区移除文件，使该文件变为未跟踪的状态，</span><br><span class="line">git checkout –- &lt;file&gt;          # 命令时，会用暂存区全部或指定的文件替换工作区的文件。</span><br><span class="line">git ls-files                    # 查看缓冲区内有哪些文件</span><br><span class="line">git rm -r --cached .            # 删除缓存区</span><br></pre></td></tr></table></figure>
<h3 id="版本回退"><a href="#版本回退" class="headerlink" title="版本回退"></a>版本回退</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">git reset --hard HEADE~1    # 回滚到上一版本</span><br><span class="line">git reset --hard commit_id(版本号，版本ID，commit_id)      # 回滚到某个版本</span><br><span class="line">git reflog 	# 查看命令历史的commit_id,可以获取回退之前的commit_id,</span><br><span class="line">git reflog	# 记录这个仓库中所有的分支的所有更新记录，包括已经撤销的更新.</span><br><span class="line"></span><br><span class="line">HEAD        # 表示当前版本</span><br><span class="line">HEAD^       # 是上一个版本</span><br><span class="line">HEAD^       # ^是上上一个版本</span><br><span class="line">HEAD~100    # 100表示100个版本,100个版本写100个^比较容易数不过来。</span><br></pre></td></tr></table></figure>
<h4 id="git-commit"><a href="#git-commit" class="headerlink" title="git commit"></a>git commit</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">git reset --soft HEAD^     # 删除到HEAD^的commit，(仅commit删除，文件未变化)</span><br><span class="line">git commit --amend         # 修改最近一次的commit内容(git push过的不能修改)</span><br><span class="line">git rebase -i HEAD~3       # 修改倒数第几次的git commit</span><br><span class="line">git rebase -i commit_id(版本号，版本ID，commit_id)    # 可以修改或删除某个commit</span><br><span class="line">git rebase --continue      # 如果修改错了要返回原来的git commit，可以使用这个命令</span><br></pre></td></tr></table></figure>
<p>修改commit massage</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">1. $ git rebase -i commit_id(版本号，版本ID，commit_id)    # 可以修改或删除某个commit</span><br><span class="line"></span><br><span class="line">2. 显示结果如下，修改 pick 为 edit ，并 :wq 保存退出</span><br><span class="line">    pick 92b495b 2009-08-08: ×××××××</span><br><span class="line"></span><br><span class="line">    # Rebase 9ef2b1f..92b495b onto 9ef2b1f</span><br><span class="line">    #</span><br><span class="line">    # Commands:</span><br><span class="line">    #  pick = use commit</span><br><span class="line">    #  edit = use commit, but stop for amending //改上面的 pick 为 edit</span><br><span class="line">    #  squash = use commit, but meld into previous commit</span><br><span class="line">    #</span><br><span class="line">    # If you remove a line here THAT COMMIT WILL BE LOST.</span><br><span class="line">    # However, if you remove everything, the rebase will be aborted.</span><br><span class="line"></span><br><span class="line">3. 命令行显示：</span><br><span class="line"></span><br><span class="line">    Stopped at e35b8f3… reflog branch first commit</span><br><span class="line">    You can amend the commit now, with</span><br><span class="line">    git commit –amend</span><br><span class="line">    Once you are satisfied with your changes, run</span><br><span class="line">    git rebase –continue</span><br><span class="line"></span><br><span class="line">4. 修改需要修改的地方（只是修改commit message就不用做)</span><br><span class="line"></span><br><span class="line">    git add . #这一步如果只是修改commit message不用输入</span><br><span class="line">    git commit --amend</span><br><span class="line">    #输入修改后的commit message，保存</span><br><span class="line"></span><br><span class="line">5. $ git rebase –continue   # 使用 git rebase –continue 完成操作</span><br><span class="line"></span><br><span class="line">6. 推送到远端（若还没有推送到远端，不用处理）</span><br><span class="line">    $ git push &lt;remote&gt; &lt;branch&gt; -f   # 加-f 表示忽略冲突（强推）</span><br></pre></td></tr></table></figure>
<h4 id="上传本地文件夹到远程仓库"><a href="#上传本地文件夹到远程仓库" class="headerlink" title="上传本地文件夹到远程仓库"></a>上传本地文件夹到远程仓库</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">1. git init     				# 本地项目根目录下执行这个命令</span><br><span class="line">2. git add .    				# 将项目的所有文件添加到仓库中</span><br><span class="line">3. git commit -m "注释语句"</span><br><span class="line">4. git remote add origin git@github.com:roy-lau/python.git     # 将本地的仓库关联到github上</span><br><span class="line">5. git pull origin master       # 上传github之前，要先pull一下</span><br><span class="line">6. git push -u origin master    # 上传代码到github远程仓库</span><br></pre></td></tr></table></figure>
<h3 id="分支类（master）"><a href="#分支类（master）" class="headerlink" title="分支类（master）"></a>分支类（master）</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">git log --graph                 # 查看分支图</span><br><span class="line">git branch                      # 查看分支</span><br><span class="line">git branch -r                   # 查看所有远程分支</span><br><span class="line">git branch  BranchName          # 创建分支</span><br><span class="line">git checkout  BranchName        # 切换分支</span><br><span class="line">git checkout -b  BranchName     # 创建+切换分支</span><br><span class="line">git merge  BranchName           # 合并某分支到当前分支</span><br><span class="line">git branch -D  BranchName       # 删除本地分支</span><br><span class="line">git pull origin  remoteBranchName:localBranchName # 获取远程分支</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 删除远程分支(推送一个空分支到远程分支,就相当于删除了远程分支)</span></span><br><span class="line">git push origin :branchName</span><br><span class="line">git push -d origin branchName</span><br><span class="line"></span><br><span class="line">git branch -m oldBranchName newBranchName   # 修改branch名</span><br></pre></td></tr></table></figure>
<h4 id="git-快速clone"><a href="#git-快速clone" class="headerlink" title="git 快速clone"></a>git 快速clone</h4><blockquote>
<p>1、 开始 <code>clone</code>，如果觉得仓库太大，可以在 <code>git clone</code> 中加入参数 <code>--depth=1</code>，只拉取最近的一个 <code>revision</code>。</p>
</blockquote>
<pre><code>git clone  git@github.com:roy-lau/web_project.git --depth=1     # 设置克隆的深度(两个参数可以连起来)
git clone  git@github.com:roy-lau/web_project.git -b dev        # 设置克隆的分支(两个参数可以连起来)
</code></pre><blockquote>
<p>2、 如果后面想看历史的版本，那么也很好办，使用 git fetch 即可。</p>
</blockquote>
<pre><code>git fetch --unshallow               # 获取除当前分支的所有历史版本
</code></pre><blockquote>
<p>3、拉取远程分支到本地分支</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git fetch origin  remoteBranchName:localBranchName</span><br><span class="line"><span class="comment"># 如果remoteBranchName和localBranchName冲突,手动merge,可以设置深度--depth=1</span></span><br><span class="line">git pull origin  remoteBranchName:localBranchName</span><br><span class="line"><span class="comment"># 如果remoteBranchName和localBranchName冲突,自动merge,可以设置深度--depth=1</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>注： BranchName:分支名 localBranchName:本地分支名  remoteBranchName: 远程分支名</p>
</blockquote>
<h3 id="标签（tag）"><a href="#标签（tag）" class="headerlink" title="标签（tag）"></a>标签（tag）</h3><ul>
<li><p>创建标签</p>
<ul>
<li>git tag -a <code>tagName</code> -m “注释”        # 创建附注标签(常用)</li>
<li>git tag  tagName-light                  # 创建轻量标签</li>
</ul>
</li>
<li><p>上传标签</p>
<ul>
<li>git push origin tag <code>tagName</code>          # 将 tagName 标签提交到git服务器</li>
<li>git push origin -–tags                 # 将本地所有标签一次性提交到git服务器</li>
</ul>
</li>
<li><p>git tag                                   # 查看当前分支下的标签</p>
</li>
<li>git tag -d  <code>tagName</code>                     # 删除本地标签</li>
<li>git push origin <code>:refs/tags/tagName</code>      # 删除远程标签</li>
<li>git checkout <code>tagName</code>                     # 切换标签</li>
<li>git tag -m oldTagName <code>newTagName</code>        # 修改tag名</li>
<li>git fetch origin tag <code>tagName</code>             # 获取远程tag</li>
</ul>
<h3 id="远程主机（origin）"><a href="#远程主机（origin）" class="headerlink" title="远程主机（origin）"></a>远程主机（origin）</h3><ol>
<li><p>为了便于管理，git要求每个远程主机都必须指定一个主机名。不带选项的时候，<code>git remote</code>命令会列出所有远程主机。</p>
<pre><code>$ git remote
origin
</code></pre></li>
<li><p>使用<code>-v</code>选项可以查看远程主机的网址</p>
<pre><code>$ git remote -v
origin git@github.com:roy-lau/python.git(fetch)
origin git@github.com:roy-lau/python.git(push)
</code></pre></li>
<li><p>克隆的时候，所使用的远程主机自动被git命名为origin。如果想使用其他主机名，需要用<code>git clone</code>命令的<code>-o</code>选项指定。</p>
<pre><code>$ git clone -o roy-lau https://github.com/roy-lau/python.git
$ git remote roy-lau
</code></pre><p> 上面命令表示，克隆的时候，指定远程主机叫<strong>roy-lau</strong></p>
</li>
<li><p><code>git remote show &lt;主机名&gt;</code> 可以查看该主机的详细信息。</p>
</li>
<li><code>git remote add &lt;主机名&gt;&lt;网址&gt;</code>  添加远程主机。</li>
<li><code>git remote rm &lt;主机名&gt;</code> 删除远程主机</li>
<li><code>git remote rename &lt;源主机名&gt; &lt;新主机名&gt;</code> 更改远程主机名。<br>End. <code>git push -u &lt;主机名&gt; &lt;分支名&gt;</code></li>
</ol>
<h3 id="配置类"><a href="#配置类" class="headerlink" title="配置类"></a>配置类</h3><ol>
<li><code>git config -l</code>                            查看git配置</li>
<li><code>git config -e</code>                            vim下修改配置</li>
<li><code>git config -–add user.name=roy-lau</code>       添加一个配置项命令参数</li>
<li><code>git config --get user.name</code>               获取一个配置项命令参数</li>
<li><code>git congig --unset user.name=roy-lau</code>     删除一个配置项命令参数</li>
</ol>
<ul>
<li><p><code>git add</code> 的时候，中文会显示成<code>\344\270\255\346\226\207.txt</code>，使用如下命令进行配置：</p>
<pre><code>git config --global core.quotepath false
</code></pre></li>
<li><p>Git使用https方式进行连接时，默认每次推送时都要输入用户名和密码。进行如下设置后，只要在推送一次，以后就不需要用户名和密码了</p>
<pre><code>git config credential.helper store
</code></pre></li>
<li><p>设置 <code>git lg</code> （设置个命令后，使用<strong><em>git lg</em></strong>命令可以查看分支日志等！）</p>
</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config --global alias.lg <span class="string">"log --color --graph --pretty=format:'%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)&lt;%an&gt;%Creset' --abbrev-commit"</span></span><br></pre></td></tr></table></figure>
<ul>
<li>设置git可提交最大bit</li>
</ul>
<blockquote>
<p>问题原因是<code>http.postBuffer</code>默认上限为<code>1M</code>所致。在git的配置里将<code>http.postBuffer</code>变量改大一些即可，比如将上限设为<code>500M</code></p>
</blockquote>
<pre><code>git config --global http.postBuffer 524288000
git sparse clone 路径  可以克隆git仓库下的某个目录
</code></pre><ul>
<li>设置github大文件提交(超过50M)</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">git lfs install     <span class="comment"># 开启`lfs`功能（只需运行一次）</span></span><br><span class="line">git lfs track <span class="string">"*.psd"</span> <span class="comment">#命令进行大文件追踪 例如 `git lfs track "*.psd"` 追踪所有后缀为 `psd`的文件</span></span><br><span class="line">git lfs track       <span class="comment"># 查看现有的文件追踪模式</span></span><br><span class="line">git add .gitattributes <span class="comment"># 提交代码需要将`gitattributes`文件提交至仓库`.` 它保存了文件的追踪记录</span></span><br><span class="line">git lfs ls-files    <span class="comment"># 可以显示当前跟踪的文件列表（查看当前有哪些文件是使用lfs管理的）</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 正常只需如下步骤即可</span></span><br><span class="line">git lfs install</span><br><span class="line">git lfs track <span class="string">"*.psd"</span></span><br><span class="line">git add .gitattributes</span><br><span class="line">git add file.psd</span><br><span class="line">git commit -m <span class="string">"Add design file"</span></span><br><span class="line">git push origin master</span><br></pre></td></tr></table></figure>
<p><em>将代码 <code>push</code> 到远程仓库后，<code>LFS</code> 跟踪的文件会以<code>Git LFS</code>的形式显示:<br><code>clone</code> 时 使用<code>git clone</code> 或 <code>git lfs clone</code> 均可</em></p>
<h3 id="github的SSH配置如下："><a href="#github的SSH配置如下：" class="headerlink" title="github的SSH配置如下："></a>github的SSH配置如下：</h3><p><strong>1. 设置Git的user name和email：</strong></p>
<pre><code>$ git config --global user.name &quot;roy-lau&quot;
$ git config --global user.email &quot;roylau_vip@163.com&quot;
</code></pre><p><strong>2. 生成SSH密钥过程：</strong></p>
<ol>
<li><p>查看是否已经有了ssh密钥：</p>
<pre><code>cd ~/.ssh
</code></pre><blockquote>
<p>如果没有密钥则不会有此文件夹，有则备份删除</p>
</blockquote>
</li>
<li><p>保存密钥：</p>
<pre><code>$ ssh-keygen -t rsa -C  &quot;roylau_vip@163.com&quot;
</code></pre><p> 按3个回车，密码为空。</p>
<p> Your identification has been saved in /home/tekkub/.ssh/id_rsa.<br> Your public key has been saved in /home/tekkub/.ssh/id_rsa.pub.<br> The key fingerprint is:<br> ………………</p>
<blockquote>
<p>最后得到了两个文件：<code>id_rsa</code>和<code>id_rsa.pub</code></p>
</blockquote>
</li>
<li><p>添加密钥</p>
<pre><code>ssh：ssh-add 文件名   # 需要之前输入密码。
</code></pre></li>
<li><p>在github上添加ssh密钥，这要添加的是<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">    打开https://github.com/ ，登陆roy-lau，然后添加ssh。</span><br><span class="line"></span><br><span class="line">5. 测试：</span><br><span class="line"></span><br><span class="line">```shell</span><br><span class="line">    $ ssh -T git@github.com</span><br><span class="line">    Hi roy-lau! You&apos;ve successfully authenticated, but GitHub does not provide shell access.</span><br></pre></td></tr></table></figure></p>
</li>
</ol>
<h3 id="git私服搭建"><a href="#git私服搭建" class="headerlink" title="git私服搭建"></a>git私服搭建</h3><p>&nbsp;&nbsp;&nbsp;&nbsp;<strong>git如何搭建私服<a href="git-server-build.md">点击查看</a></strong></p>
<h3 id="bug记录！"><a href="#bug记录！" class="headerlink" title="bug记录！"></a>bug记录！</h3><ul>
<li>bug1：<code>工作区和暂存区和远程仓库不同。但是，git push 【Everything up-to-date】</code></li>
</ul>
<blockquote>
<p>解决步骤如下：</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">1. Administrator@liuroy-lau MINGW32 /d/git_rpo/README (master)</span><br><span class="line">    $ git add -A                                <span class="comment"># 重点在这里，以前都是用git add .或git add --all</span></span><br><span class="line"></span><br><span class="line">2. Administrator@liuroy-lau MINGW32 /d/git_rpo/README (master)</span><br><span class="line">    $ git commit -m <span class="string">"error"</span></span><br><span class="line">    [master ef2b048] error</span><br><span class="line">     3 files changed, 0 insertions(+), 0 deletions(-)</span><br><span class="line">     create mode 100644 git.png</span><br><span class="line">     create mode 100644 git_help.png</span><br><span class="line">     create mode 100644 <span class="string">"git\351\200\237\347\216\207.png"</span></span><br><span class="line"></span><br><span class="line">3. Administrator@liuroy-lau MINGW32 /d/git_rpo/README (master)</span><br><span class="line">    $ git push -u origin master</span><br><span class="line">    Counting objects: 5, <span class="keyword">done</span>.</span><br><span class="line">    Delta compression using up to 4 threads.</span><br><span class="line">    Compressing objects: 100% (5/5), <span class="keyword">done</span>.</span><br><span class="line">    Writing objects: 100% (5/5), 680.94 KiB | 0 bytes/s, <span class="keyword">done</span>.</span><br><span class="line">    Total 5 (delta 0), reused 0 (delta 0)</span><br><span class="line">    To git@github.com:roy-lau/README.git</span><br><span class="line">       792f815..ef2b048  master -&gt; master</span><br></pre></td></tr></table></figure>
<h3 id="小技巧"><a href="#小技巧" class="headerlink" title="小技巧"></a>小技巧</h3><ol>
<li><code>git add -A</code>   保存所有的修改</li>
<li><code>git add .</code>    保存新的添加和修改，但是不包括删除</li>
<li><code>git add -u</code>   保存修改和删除，但是不包括新建文件。</li>
<li>工作的时候经常需要在各个目录之间跳转，可以通过环境变量对目录进行缩写，方便地在多个目录直接切换。</li>
</ol>
<p>在 <strong>~/.bashrc</strong>添加：</p>
<pre><code>export wd=&quot;/d/Projects/MyProject/git&quot;
export doc=&quot;/d/Projects/documents/&quot;
</code></pre><p>以后只需要用 <code>cd $wd, cd $doc</code> 即可进入对应目录。</p>

      <blockquote class="mdui-m-t-5">
        
          <strong>本文遵循 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank">CC BY-NC-SA 4.0</a> 许可协议</strong><br>
        
        <strong>本文链接：</strong><a href="https://roy-lau.github.io/blog/2019/06/12/git-bash-make/README/">https://roy-lau.github.io/blog/2019/06/12/git-bash-make/README/</a>
      </blockquote>
      
        <div class="mdui-text-center">
          <button class="mdui-fab mdui-color-deep-orange mdui-text-color-white mdui-ripple" mdui-dialog="{target: '#donate'}" mdui-tooltip="{content: '打赏', position: 'top'}"><i class="mdui-icon material-icons">local_cafe</i></button>
        </div>
      
    </div>
    <footer class="mdui-card-actions">
      
      
    </footer>
    
      <div class="mdui-dialog" id="donate">
        <div class="mdui-tab mdui-tab-centered" mdui-tab>
          
            <a href="#donate-0" class="mdui-ripple">支付宝</a>
          
            <a href="#donate-1" class="mdui-ripple">微信支付</a>
          
        </div>
        
        
          <div id="donate-0" class="mdui-p-a-2 mdui-typo mdui-text-center">
            
              <img src="/images/alipay.jpg" style="width: 300px;">
            
          </div>
        
          <div id="donate-1" class="mdui-p-a-2 mdui-typo mdui-text-center">
            
              <img src="/images/wechat.jpg" style="width: 300px;">
            
          </div>
        
      </div>
    
  </article>
  <script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script>
<script src="https://cdn.bootcss.com/fancybox/3.5.7/jquery.fancybox.min.js"></script>
  <script>$("#main article .mdui-card-content img.fancybox").on("click",function(e){$.fancybox.open({src:$(this).attr("src")});});</script>


  <nav id="paginator">
    
      <a rel="prev" class="extend prev" href="/blog/2019/06/12/jade/README/">
        <button aria-label="prev" class="mdui-btn mdui-btn-raised mdui-btn-dense mdui-btn-icon mdui-color-theme-accent mdui-ripple"><i class="mdui-icon material-icons">arrow_back</i></button>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;上一篇
      </a>
    
    <div class="spacer"></div>
    
      <a rel="next" class="extend next" href="/blog/2019/06/12/git-bash-make/git-server-build/">
        下一篇&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        <button aria-label="next" class="mdui-btn mdui-btn-raised mdui-btn-dense mdui-btn-icon mdui-color-theme-accent mdui-ripple"><i class="mdui-icon material-icons">arrow_forward</i></button>
      </a>
    
  </nav>


  <div id="comment" class="mdui-m-t-5">
    <style>#pop_ad,#feedAv{display:none!important;position:absolute!important;z-index:-9999;left:-1000px;opacity:0!important}</style>
<div id="SOHUCS" sid="cjwswu482000p0shwibllshy1"></div>
<script type="text/javascript">
(function(){
var appid = 'cyubhC2Dq';
var conf = 'prod_e4cce65003c5bed049fefcb8a6f09e12';
var width = window.innerWidth || document.documentElement.clientWidth;
if (width < 960) {
window.document.write('<script id="changyan_mobile_js" charset="utf-8" type="text/javascript" src="http://changyan.sohu.com/upload/mobile/wap-js/changyan_mobile.js?client_id=' + appid + '&conf=' + conf + '"><\/script>'); } else { var loadJs=function(d,a){var c=document.getElementsByTagName("head")[0]||document.head||document.documentElement;var b=document.createElement("script");b.setAttribute("type","text/javascript");b.setAttribute("charset","UTF-8");b.setAttribute("src",d);if(typeof a==="function"){if(window.attachEvent){b.onreadystatechange=function(){var e=b.readyState;if(e==="loaded"||e==="complete"){b.onreadystatechange=null;a()}}}else{b.onload=a}}c.appendChild(b)};loadJs("http://changyan.sohu.com/upload/changyan.js",function(){window.changyan.api.config({appid:appid,conf:conf})}); } })(); </script>
  </div>


</main>
  <footer id="footer" class="mdui-m-t-5 mdui-p-y-3 mdui-color-theme">
  <div class="mdui-p-y-0 mdui-text-center">
    
    
    
    
      <a href="https://weibo.com/2360828682/profile" target="_blank"><i class="mdui-p-a-1 mdui-icon iconfont mdui-text-color-theme-a100">&#xec7e;</i></a>
    
    
    
    
      <a href="https://github.com/niemingzhao" target="_blank"><i class="mdui-p-a-1 mdui-icon iconfont mdui-text-color-theme-a100">&#xe7ab;</i></a>
    
    
    
      <a href="https://www.zhihu.com/people/nie-1-58" target="_blank"><i class="mdui-p-a-1 mdui-icon iconfont mdui-text-color-theme-a100">&#xe6c0;</i></a>
    
    
    
      <a href="tencent://message/?uin=1432440963&Menu=yes" target="_blank"><i class="mdui-p-a-1 mdui-icon iconfont mdui-text-color-theme-a100">&#xe651;</i></a>
    
    
  </div>
  <div class="mdui-p-y-1 mdui-text-center">
    Copyright &copy; 2016 - 2019 Roy Lau<br>
    Powered by <a href="https://github.com/roylau" target="_blank" class="mdui-text-color-theme-accent">RoyLau</a> | 鲁ICP备19009266号-1
    <br>
      <span id="busuanzi_container_site_pv" style="display: none;"><i class="iconfont">&#xe7fd;</i> <span id="busuanzi_value_site_pv"></span></span> &nbsp;&nbsp;
      <span id="busuanzi_container_site_uv" style="display: none;"><i class="iconfont">&#xe601;</i> <span id="busuanzi_value_site_uv"></span></span>
    
  </div>
</footer>
  <button id="gotop" class="mdui-fab mdui-fab-fixed mdui-fab-hide mdui-ripple mdui-color-theme-accent"><i class="mdui-icon material-icons">arrow_upward</i></button>
  <script async src="http://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
  <script src="/blog/js/mdui.js"></script>
<script src="/blog/js/script.js"></script>
</body>
</html>