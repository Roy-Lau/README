<!DOCTYPE html>
<html lang="zh">

<head>
    <meta charset="UTF-8" />
    <title>vue 分页</title>
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <style>
    html,
    body {
        border: 0;
    }
    #Paginations {
        margin: 0 auto;
        text-align: center;
    }
    </style>
</head>

<body>
    <div id="Paginations">
        <ol id="list">
            <li v-if="post" v-for="post in postList" v-text="post.text" :key="post.id" />
        </ol>
        <button v-show="pageCurrent>1" @click="onPrev">上一页</button>
        <button>当前 {{pageCurrent}}</button>
        <button v-show="pageTotal>pageCurrent" @click="onNext">下一页</button>
        <span>总 {{pageTotal}}</span>
    </div>
</body>
<script>
new Vue({
    el: '#Paginations',
    data: {
        list: [
            { id: 1, text: '第 1 段文字' },
            { id: 2, text: '第 2 段文字' },
            { id: 3, text: '第 3 段文字' },
            { id: 4, text: '第 4 段文字' },
            { id: 5, text: '第 5 段文字' },
            { id: 6, text: '第 6 段文字' },
            { id: 7, text: '第 7 段文字' },
            { id: 8, text: '第 8 段文字' },
            { id: 9, text: '第 9 段文字' },
        ],
        pageCurrent: 1,
        pageSize: 3,
    },
    computed: {
        pageTotal() {
            return Math.round(this.list.length / this.pageSize)
        },
        pageStart(){
        	return this.pageSize * (this.pageCurrent-1)
        },
        pageEnd(){
        	return this.pageSize * this.pageCurrent
        },
        postList() {
            let post = new Array(this.pageSize),
            _size = this.pageSize
            console.log(this.pageEnd,this.pageStart)
            for (let i = this.pageEnd; i >= this.pageStart; i--) {
                post[_size--] = this.list[i]
            }
            console.log(post)
            return post
        }
    },
    methods: {
    	onPrev(){
       		this.pageCurrent--
    	},
       	onNext(){
       		this.pageCurrent++
       	}
    },
    created() {

    },
})
</script>

</html>